/*
This is an autogenerated file, generated using the EzPC compiler.
*/

#include "emp-sh2pc/emp-sh2pc.h" 
using namespace emp;
using namespace std;
int bitlen = 32;
int party,port;
char *ip = "127.0.0.1"; 
template<typename T> 
vector<T> make_vector(size_t size) { 
return std::vector<T>(size); 
} 

template <typename T, typename... Args> 
auto make_vector(size_t first, Args... sizes) 
{ 
auto inner = make_vector<T>(sizes...); 
return vector<decltype(inner)>(first, inner); 
} 


int main(int argc, char** argv) {
parse_party_and_port(argv, &party, &port);
if(argc>3){
  ip=argv[3];
}
cout<<"Ip Address: "<<ip<<endl;
cout<<"Port: "<<port<<endl;
cout<<"Party: "<<(party==1? "CLIENT" : "SERVER")<<endl;
NetIO * io = new NetIO(party==ALICE ? nullptr : ip, port);
setup_semi_honest(io, party);


auto yy = make_vector<Integer>( (int32_t)10);
yy[ (int32_t)0] = Integer(bitlen,  (int32_t)0, PUBLIC);

int32_t i =  (int32_t)1;
while ((i <  (int32_t)10)) {
/* Temporary variable for sub-expression on source location: (41,13-41,16) */
int32_t __tac_var1 = (i -  (int32_t)1);
/* Temporary variable for sub-expression on source location: (41,10-41,17) */
Integer __tac_var2 = yy[__tac_var1];
/* Temporary variable for sub-expression on source location: (41,20-41,21) */
Integer __tac_var3 = Integer(bitlen,  (int32_t)1, PUBLIC);
yy[i] = __tac_var2.operator+(__tac_var3);
i = (i +  (int32_t)1);
}

/* Temporary variable for sub-expression on source location: (44,13-44,18) */
Integer __tac_var4 = yy[ (int32_t)9];
cout << ("Value of __tac_var4:") << endl;
cout << (__tac_var4.reveal<int32_t>(PUBLIC)) << endl;


finalize_semi_honest();
delete io; 
 
return 0;
}

